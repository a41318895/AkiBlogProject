webpackJsonp([8],{BVFr:function(e,r){},gZcy:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=s("vMJZ"),o={data:function(){var e=this;return{form:{userName:"",newPassword:"",newPasswordRe:""},rules:{userName:[{required:!0,message:"請輸入用戶名",trigger:"blur"}],newPassword:[{required:!0,message:"請輸入新密碼",trigger:"blur"},{pattern:/^(\w){6,12}$/,message:"密碼長度需在6到12之間",trigger:"blur"}],newPasswordRe:[{required:!0,message:"請再次輸入新密碼",trigger:"blur"},{validator:function(r,s,t){s!==e.form.newPassword?t(new Error("兩次輸入密碼不一致")):t()},trigger:"blur"}]},fullscreenLoading:!1,resetPasswordChecked:!1,resetPasswordCheckErr:!1,resetPasswordCheckTitle:"",verificationCode:this.$route.query.vcode||""}},methods:{resetPasswordCheck:function(){var e=this;this.$refs.form.validate(function(r){if(r){e.fullscreenLoading=!0;var s={userName:e.form.userName,newPassword:e.form.newPassword,verificationCode:e.verificationCode};Object(t.d)(s).then(function(r){e.resetPasswordChecked=!0,e.resetPasswordChecked&&e.goLogin()}).catch(function(r){e.showError("重設密碼失敗,<br/>請稍後再試...")}).finally(function(){e.fullscreenLoading=!1})}})},goLogin:function(){this.$router.push({path:"/Login?login=1"})},showError:function(e){this.resetPasswordCheckErr=!0,this.resetPasswordCheckTitle=e},resetForm:function(){this.form.userName="",this.form.newPassword="",this.form.newPasswordRe="",this.verificationCode=""}},beforeRouteLeave:function(e,r,s){this.resetForm(),s()}},a={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"container"},[s("h1",{staticClass:"resetPasswordTitle"}),e._v(" "),s("div",{staticClass:"resetPasswordBox"},[e._m(0),e._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.resetPasswordCheckErr,expression:"resetPasswordCheckErr"}],attrs:{title:e.resetPasswordCheckTitle,type:"error","show-icon":"",closable:!1},domProps:{innerHTML:e._s(e.resetPasswordCheckTitle)}}),e._v(" "),s("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"用戶名",prop:"userName"}},[s("el-input",{model:{value:e.form.userName,callback:function(r){e.$set(e.form,"userName",r)},expression:"form.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"新密碼",prop:"newPassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.form.newPassword,callback:function(r){e.$set(e.form,"newPassword",r)},expression:"form.newPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"再次輸入",prop:"newPasswordRe"}},[s("el-input",{attrs:{type:"password"},model:{value:e.form.newPasswordRe,callback:function(r){e.$set(e.form,"newPasswordRe",r)},expression:"form.newPasswordRe"}})],1),e._v(" "),s("el-form-item",[s("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"resetPassword-btn tcolors-bg",attrs:{type:"primary","element-loading-text":"提交資料中..."},on:{click:e.resetPasswordCheck}},[e._v("送出新資料\n                ")])],1)],1),e._v(" "),e._m(1)],1)])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"resetPassword-title"},[r("h1",[this._v("【3/3】重設密碼")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"navigation-links"},[r("a",{staticClass:"tcolors",attrs:{href:"#/ForgotPassword"}},[this._v("回到步驟一")]),this._v(" "),r("a",{staticClass:"tcolors",attrs:{href:"#/"}},[this._v("返回首頁")])])}]};var i=s("VU/8")(o,a,!1,function(e){s("BVFr")},null,null);r.default=i.exports}});